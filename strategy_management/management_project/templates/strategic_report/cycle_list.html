{% extends "dashboard.html" %}
{% block content %}
<!-- Permission Check for View -->
{% if permissions.strategic_report_view %}
<div class="container mt-4">
    <h2>Strategic Cycles</h2>
    <ul class="list-group">
        {% for cycle in strategic_cycles %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ cycle.name }} ({{ cycle.time_horizon_type }})
                <a href="{% url 'strategic_report_list' cycle.slug %}" class="btn btn-sm btn-primary">Manage and View Strategic Reports</a>
            </li>
        {% endfor %}
    </ul>
</div>

{% else %}
<!-- No Permission Message -->
<div class="container mt-4">
    <div class="alert alert-danger text-center">
        <i class="bi bi-shield-exclamation display-4 text-danger mb-3"></i>
        <h4 class="alert-heading">Access Denied</h4>
        <p class="mb-3">You don't have permission to view strategic reports.</p>
        <a href="{% url 'dashboard' %}" class="btn btn-primary">Back to Dashboard</a>
    </div>
</div>
{% endif %}
{% endblock %}